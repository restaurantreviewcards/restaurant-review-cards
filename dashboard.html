<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Dashboard - ReviewCards</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap">
    <link rel="stylesheet" href="dashboard.css">
    <link rel="icon" type="image/png" href="favicon.png">
</head>
<body>

    <header class="dashboard-header">
        <div class="logo">
            <a href="/">
                <svg class="logo-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <title>ReviewCards Logo</title>
                    <defs>
                        <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#4285F4;" />
                            <stop offset="100%" style="stop-color:#005596;" />
                        </linearGradient>
                    </defs>
                    <path fill="url(#logoGradient)" d="M12 2L4 5v6.09c0 5.05 3.41 9.76 8 10.91c4.59-1.15 8-5.86 8-10.91V5l-8-3zm-1.06 13.5L7.4 12.03l1.41-1.41l2.12 2.12l4.24-4.24l1.41 1.41l-5.65 5.65z"/>
                </svg>
                <span>ReviewCards</span>
            </a>
        </div>
        <div class="header-text">
            <h1>Welcome, <span id="restaurant-name-placeholder">...</span></h1>
        </div>
    </header>

    <main id="main-content" class="hidden">
        <div class="dashboard-grid">
            
            <div class="card google-snapshot-card">
                <div class="card-header">
                    <svg class="google-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path fill="#4285F4" d="M45.12,24.5c0-1.56-0.14-3.06-0.4-4.5H24v8.51h11.84c-0.51,2.75-2.06,5.08-4.39,6.64v5.52h7.11C42.84,40.45,45.12,33.19,45.12,24.5z"/><path fill="#34A853" d="M24,46c6.44,0,11.84-2.13,15.79-5.79l-7.11-5.52c-2.13,1.44-4.86,2.3-7.68,2.3c-5.88,0-10.86-3.98-12.64-9.31H4.04v5.69C7.96,40.16,15.4,46,24,46z"/><path fill="#FBBC05" d="M11.36,27.32c-0.77-2.3-0.77-4.84,0-7.14v-5.69H4.04c-3.53,6.97-3.53,15.25,0,22.22L11.36,27.32z"/><path fill="#EA4335" d="M24,10.13c3.49,0,6.58,1.2,9.01,3.52l6.33-6.33C35.84,2.86,29.98,0,24,0C15.4,0,7.96,5.84,4.04,14.49l7.32,5.69C13.14,14.11,18.12,10.13,24,10.13z"/></svg>
                    <h2>Google Reputation Snapshot</h2>
                </div>
                <div class="metrics-container">
                    <div class="metric-item main-metric">
                        <span class="metric-value" id="current-reviews-val">--</span>
                        <span class="metric-label">Total Google Reviews</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-value gain" id="new-reviews-val">--</span>
                        <span class="metric-label">New Reviews Gained</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-value" id="invites-sent-val">--</span>
                        <span class="metric-label">
                            Review Invites Sent
                            <span id="invite-info-trigger" class="info-icon">â“˜</span>
                        </span>
                    </div>
                </div>
                <div class="card-footer">
                    <p id="invite-info-text" class="metric-definition hidden">
                        "Review Invites" are counted each time a customer scans your QR code or clicks your Smart Link.
                    </p>
                    <a href="#" id="google-profile-link" target="_blank">View Your Google Business Profile</a>
                </div>
            </div>

            <div class="card">
                <h2>Your Smart Link</h2>
                <p>This is your unique link. Use it to send customers directly to your Google review page.</p>
                <div class="input-group">
                    <input type="text" id="smart-link-input" readonly>
                    <button id="copy-link-btn">Copy</button>
                </div>
                <button id="show-qr-btn" class="button-secondary">View & Print QR Code</button>
            </div>

            <div class="card">
                <h2>Share Your Smart Link</h2>
                <p>Send your link directly to recent customers from your phone or computer to get more reviews.</p>
                <div class="share-buttons-container">
                    <a href="#" id="share-email-btn" class="share-button">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6zm-2 0l-8 5-8-5h16zm0 12H4V8l8 5 8-5v10z"/></svg>
                        <span>Email</span>
                    </a>
                    <a href="#" id="share-text-btn" class="share-button">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 9h12v2H6V9zm8 5H6v-2h8v2zm4-6H6V6h12v2z"/></svg>
                        <span>Text</span>
                    </a>
                    <a href="#" id="share-whatsapp-btn" class="share-button whatsapp">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.894 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.451-4.437-9.887-9.888-9.888-5.451 0-9.887 4.436-9.888 9.888.001 2.228.651 4.216 1.905 5.922l-.299 1.093 1.16 1.16.299-1.093z"/></svg>
                        <span>WhatsApp</span>
                    </a>
                    <a href="#" id="share-messenger-btn" class="share-button messenger">
                         <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 5.79 2 10.15c0 2.5 1.44 4.7 3.61 5.92L5.27 18.2l2.35-1.17c.45.09.91.15 1.38.15c5.52 0 10-3.79 10-8.18C19 5.79 14.52 2 12 2zm-1.12 9.17l-2.03-2.03l-4.85 2.55l5.5-2.92l2.03 2.03l4.85-2.55l-5.5 2.92z"/></svg>
                        <span>Messenger</span>
                    </a>
                </div>
            </div>
            
            <div class="card">
                <h2>Monthly Card Refills</h2>
                <p>Your plan includes 50 free card refill credits every month. Use the button below to order your next batch.</p>
                <div class="refill-status">
                    <span class="refill-credits">50</span>
                    <span class="refill-label">Credits Available This Month</span>
                </div>
                <button id="redeem-cards-btn" class="button-primary">Redeem Your Cards</button>
                <p class="refill-note">Credits reset on the 1st of each month and do not roll over.</p>
            </div>

            <div class="card">
                <h2>Account & Support</h2>
                <p>Need help or want to manage your subscription?</p>
                <button id="manage-billing-btn" class="button-secondary">Manage Billing</button>
                <a href="mailto:support@restaurantreviewcards.com" class="button-secondary">Contact Support</a>
            </div>
        </div>
    </main>

    <div id="loader" class="loader-container">
        <div class="spinner"></div>
        <p>Loading Your Dashboard...</p>
    </div>

    <div id="qr-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <button id="close-modal-btn" class="close-button">&times;</button>
            <h3>Your Smart QR Code</h3>
            <div id="qrcode-container"></div>
            <p>Scan this QR code with your phone camera.</p>
            <div class="qr-actions">
                <button id="download-qr-btn" class="button-secondary">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                    <span>Download</span>
                </button>
                <button id="print-qr-btn" class="button-secondary">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect x="6" y="14" width="12" height="8"></rect></svg>
                    <span>Print</span>
                </button>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="dashboard.js"></script>
</body>
</html>