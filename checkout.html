<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout - ReviewCards</title>
    <script async src="https://js.stripe.com/v3/pricing-table.js"></script>
    <style>
        /* Optional: Basic styling to center the table */
        body { font-family: sans-serif; display: flex; justify-content: center; padding-top: 50px; }
    </style>
</head>
<body>

    <stripe-pricing-table 
        pricing-table-id="prctbl_1SBGC9KDZto4bHecObIK7Jtt"
        publishable-key="pk_live_51S8RCEKDZto4bHecq0hENGuWcyuGbjbbPzEc9qINe7041tQ0sd6MGFdDakm6Wc3VZteTypDbqtDQj7TKtLAxFxZ100z16Dzfso">
    </stripe-pricing-table>

    <script>
        // This script finds the pricing table and the email in the URL
        const pricingTable = document.querySelector('stripe-pricing-table');
        const params = new URLSearchParams(window.location.search);
        const email = params.get('email');
        const placeId = params.get('placeId');

        // If an email exists in the URL, set it on the table to pre-fill it in Stripe Checkout
        if (email) {
            pricingTable.customerEmail = email;
        }
        // IMPORTANT: We pass the placeId as the client-reference-id so our webhook can find it later
        if (placeId) {
            pricingTable.clientReferenceId = placeId;
        }
    </script>

</body>
</html>